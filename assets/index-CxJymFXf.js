(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();const ir="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ir);const sr=1,ar=2,lr=16,or=1,ur=2,k=Symbol(),fr=["touchstart","touchmove"];function cr(t){return fr.includes(t)}const ae=!1;var Zt=Array.isArray,Jt=Array.from,_r=Object.defineProperty,_t=Object.getOwnPropertyDescriptor,me=Object.getOwnPropertyDescriptors,vr=Object.prototype,dr=Array.prototype,Qt=Object.getPrototypeOf;function hr(t){for(var e=0;e<t.length;e++)t[e]()}const q=2,Ee=4,ht=8,zt=16,j=32,Ct=64,Kt=128,tt=256,xt=512,A=1024,$=2048,pt=4096,B=8192,st=16384,pr=32768,be=65536,gr=1<<19,we=1<<20,nt=Symbol("$state");function De(t){return t===this.v}function Se(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function yr(t){return!Se(t,this.v)}function mr(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Er(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function br(t){throw new Error("https://svelte.dev/e/effect_orphan")}function wr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Dr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Sr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Tr(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function xr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Pr=!1,Or=!1;function N(t,e){var r={f:0,v:t,reactions:null,equals:De,version:0};return r}function le(t){return Cr(N(t))}function Ar(t,e=!1){const r=N(t);return e||(r.equals=yr),r}function Cr(t){return m!==null&&m.f&q&&(Y===null?Kr([t]):Y.push(t)),t}function F(t,e){return m!==null&&Ur()&&m.f&(q|zt)&&(Y===null||!Y.includes(t))&&xr(),Te(t,e)}function Te(t,e){return t.equals(e)||(t.v,t.v=e,t.version=Ue(),xe(t,$),g!==null&&g.f&A&&!(g.f&j)&&(T!==null&&T.includes(t)?(K(g,$),Nt(g)):X===null?$r([t]):X.push(t))),e}function xe(t,e){var r=t.reactions;if(r!==null)for(var i=r.length,n=0;n<i;n++){var s=r[n],a=s.f;a&$||(K(s,e),a&(A|tt)&&(a&q?xe(s,pt):Nt(s)))}}let Pe=!1;function Q(t,e=null,r){if(typeof t!="object"||t===null||nt in t)return t;const i=Qt(t);if(i!==vr&&i!==dr)return t;var n=new Map,s=Zt(t),a=N(0);s&&n.set("length",N(t.length));var c;return new Proxy(t,{defineProperty(u,l,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Dr();var o=n.get(l);return o===void 0?(o=N(f.value),n.set(l,o)):F(o,Q(f.value,c)),!0},deleteProperty(u,l){var f=n.get(l);if(f===void 0)l in u&&n.set(l,N(k));else{if(s&&typeof l=="string"){var o=n.get("length"),_=Number(l);Number.isInteger(_)&&_<o.v&&F(o,_)}F(f,k),oe(a)}return!0},get(u,l,f){var d;if(l===nt)return t;var o=n.get(l),_=l in u;if(o===void 0&&(!_||(d=_t(u,l))!=null&&d.writable)&&(o=N(Q(_?u[l]:k,c)),n.set(l,o)),o!==void 0){var v=h(o);return v===k?void 0:v}return Reflect.get(u,l,f)},getOwnPropertyDescriptor(u,l){var f=Reflect.getOwnPropertyDescriptor(u,l);if(f&&"value"in f){var o=n.get(l);o&&(f.value=h(o))}else if(f===void 0){var _=n.get(l),v=_==null?void 0:_.v;if(_!==void 0&&v!==k)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return f},has(u,l){var v;if(l===nt)return!0;var f=n.get(l),o=f!==void 0&&f.v!==k||Reflect.has(u,l);if(f!==void 0||g!==null&&(!o||(v=_t(u,l))!=null&&v.writable)){f===void 0&&(f=N(o?Q(u[l],c):k),n.set(l,f));var _=h(f);if(_===k)return!1}return o},set(u,l,f,o){var S;var _=n.get(l),v=l in u;if(s&&l==="length")for(var d=f;d<_.v;d+=1){var w=n.get(d+"");w!==void 0?F(w,k):d in u&&(w=N(k),n.set(d+"",w))}_===void 0?(!v||(S=_t(u,l))!=null&&S.writable)&&(_=N(void 0),F(_,Q(f,c)),n.set(l,_)):(v=_.v!==k,F(_,Q(f,c)));var x=Reflect.getOwnPropertyDescriptor(u,l);if(x!=null&&x.set&&x.set.call(o,f),!v){if(s&&typeof l=="string"){var C=n.get("length"),E=Number(l);Number.isInteger(E)&&E>=C.v&&F(C,E+1)}oe(a)}return!0},ownKeys(u){h(a);var l=Reflect.ownKeys(u).filter(_=>{var v=n.get(_);return v===void 0||v.v!==k});for(var[f,o]of n)o.v!==k&&!(f in u)&&l.push(f);return l},setPrototypeOf(){Sr()}})}function oe(t,e=1){F(t,t.v+e)}var ue,Oe,Ae;function kr(){if(ue===void 0){ue=window;var t=Element.prototype,e=Node.prototype;Oe=_t(e,"firstChild").get,Ae=_t(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function Ce(t=""){return document.createTextNode(t)}function Pt(t){return Oe.call(t)}function kt(t){return Ae.call(t)}function U(t,e){return Pt(t)}function Mr(t,e){{var r=Pt(t);return r instanceof Comment&&r.data===""?kt(r):r}}function L(t,e=1,r=!1){let i=t;for(;e--;)i=kt(i);return i}function Ir(t){t.textContent=""}function Lr(t){var e=q|$;g===null?e|=tt:g.f|=we;var r=m!==null&&m.f&q?m:null;const i={children:null,ctx:P,deps:null,equals:De,f:e,fn:t,reactions:null,v:null,version:0,parent:r??g};return r!==null&&(r.children??(r.children=[])).push(i),i}function ke(t){var e=t.children;if(e!==null){t.children=null;for(var r=0;r<e.length;r+=1){var i=e[r];i.f&q?te(i):W(i)}}}function Nr(t){for(var e=t.parent;e!==null;){if(!(e.f&q))return e;e=e.parent}return null}function Me(t){var e,r=g;Z(Nr(t));try{ke(t),e=Ve(t)}finally{Z(r)}return e}function Ie(t){var e=Me(t),r=(z||t.f&tt)&&t.deps!==null?pt:A;K(t,r),t.equals(e)||(t.v=e,t.version=Ue())}function te(t){ke(t),dt(t,0),K(t,st),t.v=t.children=t.deps=t.ctx=t.reactions=null}function Rr(t){g===null&&m===null&&br(),m!==null&&m.f&tt&&Er(),ie&&mr()}function Hr(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function at(t,e,r,i=!0){var n=(t&Ct)!==0,s=g,a={ctx:P,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:t|$,first:null,fn:e,last:null,next:null,parent:n?null:s,prev:null,teardown:null,transitions:null,version:0};if(r){var c=it;try{fe(!0),Lt(a),a.f|=pr}catch(f){throw W(a),f}finally{fe(c)}}else e!==null&&Nt(a);var u=r&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&we)===0;if(!u&&!n&&i&&(s!==null&&Hr(a,s),m!==null&&m.f&q)){var l=m;(l.children??(l.children=[])).push(a)}return a}function Fr(t){const e=at(ht,null,!1);return K(e,A),e.teardown=t,e}function $t(t){Rr();var e=g!==null&&(g.f&j)!==0&&P!==null&&!P.m;if(e){var r=P;(r.e??(r.e=[])).push({fn:t,effect:g,reaction:m})}else{var i=Mt(t);return i}}function qr(t){const e=at(Ct,t,!0);return(r={})=>new Promise(i=>{r.outro?qe(e,()=>{W(e),i(void 0)}):(W(e),i(void 0))})}function Mt(t){return at(Ee,t,!1)}function ee(t){return at(ht,t,!0)}function Et(t){return Le(t)}function Le(t,e=0){return at(ht|zt|e,t,!0)}function re(t,e=!0){return at(ht|j,t,!0,e)}function Ne(t){var e=t.teardown;if(e!==null){const r=ie,i=m;ce(!0),G(null);try{e.call(null)}finally{ce(r),G(i)}}}function Re(t){var e=t.deriveds;if(e!==null){t.deriveds=null;for(var r=0;r<e.length;r+=1)te(e[r])}}function He(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var i=r.next;W(r,e),r=i}}function Br(t){for(var e=t.first;e!==null;){var r=e.next;e.f&j||W(e),e=r}}function W(t,e=!0){var r=!1;if((e||t.f&gr)&&t.nodes_start!==null){for(var i=t.nodes_start,n=t.nodes_end;i!==null;){var s=i===n?null:kt(i);i.remove(),i=s}r=!0}He(t,e&&!r),Re(t),dt(t,0),K(t,st);var a=t.transitions;if(a!==null)for(const u of a)u.stop();Ne(t);var c=t.parent;c!==null&&c.first!==null&&Fe(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Fe(t){var e=t.parent,r=t.prev,i=t.next;r!==null&&(r.next=i),i!==null&&(i.prev=r),e!==null&&(e.first===t&&(e.first=i),e.last===t&&(e.last=r))}function qe(t,e){var r=[];ne(t,r,!0),Be(r,()=>{W(t),e&&e()})}function Be(t,e){var r=t.length;if(r>0){var i=()=>--r||e();for(var n of t)n.out(i)}else e()}function ne(t,e,r){if(!(t.f&B)){if(t.f^=B,t.transitions!==null)for(const a of t.transitions)(a.is_global||r)&&e.push(a);for(var i=t.first;i!==null;){var n=i.next,s=(i.f&be)!==0||(i.f&j)!==0;ne(i,e,s?r:!1),i=n}}}function Ye(t){je(t,!0)}function je(t,e){if(t.f&B){gt(t)&&Lt(t),t.f^=B;for(var r=t.first;r!==null;){var i=r.next,n=(r.f&be)!==0||(r.f&j)!==0;je(r,n?e:!1),r=i}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}let Ut=!1,Vt=[];function Yr(){Ut=!1;const t=Vt.slice();Vt=[],hr(t)}function Ke(t){Ut||(Ut=!0,queueMicrotask(Yr)),Vt.push(t)}function jr(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Tt=!1,Ot=!1,At=null,it=!1,ie=!1;function fe(t){it=t}function ce(t){ie=t}let Xt=[],vt=0;let m=null;function G(t){m=t}let g=null;function Z(t){g=t}let Y=null;function Kr(t){Y=t}let T=null,M=0,X=null;function $r(t){X=t}let $e=1,z=!1,P=null;function Ue(){return++$e}function Ur(){return!Pr}function gt(t){var l;var e=t.f;if(e&$)return!0;if(e&pt){var r=t.deps,i=(e&tt)!==0;if(r!==null){var n,s,a=(e&xt)!==0,c=i&&g!==null&&!z,u=r.length;if(a||c){for(n=0;n<u;n++)s=r[n],(a||!((l=s==null?void 0:s.reactions)!=null&&l.includes(t)))&&(s.reactions??(s.reactions=[])).push(t);a&&(t.f^=xt)}for(n=0;n<u;n++)if(s=r[n],gt(s)&&Ie(s),s.version>t.version)return!0}(!i||g!==null&&!z)&&K(t,A)}return!1}function Vr(t,e){for(var r=e;r!==null;){if(r.f&Kt)try{r.fn(t);return}catch{r.f^=Kt}r=r.parent}throw Tt=!1,t}function Xr(t){return(t.f&st)===0&&(t.parent===null||(t.parent.f&Kt)===0)}function It(t,e,r,i){if(Tt){if(r===null&&(Tt=!1),Xr(e))throw t;return}r!==null&&(Tt=!0);{Vr(t,e);return}}function Ve(t){var _;var e=T,r=M,i=X,n=m,s=z,a=Y,c=P,u=t.f;T=null,M=0,X=null,m=u&(j|Ct)?null:t,z=!it&&(u&tt)!==0,Y=null,P=t.ctx;try{var l=(0,t.fn)(),f=t.deps;if(T!==null){var o;if(dt(t,M),f!==null&&M>0)for(f.length=M+T.length,o=0;o<T.length;o++)f[M+o]=T[o];else t.deps=f=T;if(!z)for(o=M;o<f.length;o++)((_=f[o]).reactions??(_.reactions=[])).push(t)}else f!==null&&M<f.length&&(dt(t,M),f.length=M);return l}finally{T=e,M=r,X=i,m=n,z=s,Y=a,P=c}}function Wr(t,e){let r=e.reactions;if(r!==null){var i=r.indexOf(t);if(i!==-1){var n=r.length-1;n===0?r=e.reactions=null:(r[i]=r[n],r.pop())}}r===null&&e.f&q&&(T===null||!T.includes(e))&&(K(e,pt),e.f&(tt|xt)||(e.f^=xt),dt(e,0))}function dt(t,e){var r=t.deps;if(r!==null)for(var i=e;i<r.length;i++)Wr(t,r[i])}function Lt(t){var e=t.f;if(!(e&st)){K(t,A);var r=g,i=P;g=t;try{e&zt?Br(t):He(t),Re(t),Ne(t);var n=Ve(t);t.teardown=typeof n=="function"?n:null,t.version=$e;var s=t.deps,a;ae&&Or&&t.f&$}catch(c){It(c,t,r,i||t.ctx)}finally{g=r}}}function Gr(){if(vt>1e3){vt=0;try{wr()}catch(t){if(At!==null)It(t,At,null);else throw t}}vt++}function Zr(t){var e=t.length;if(e!==0){Gr();var r=it;it=!0;try{for(var i=0;i<e;i++){var n=t[i];n.f&A||(n.f^=A);var s=[];Xe(n,s),Jr(s)}}finally{it=r}}}function Jr(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var i=t[r];if(!(i.f&(st|B)))try{gt(i)&&(Lt(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?Fe(i):i.fn=null))}catch(n){It(n,i,null,i.ctx)}}}function Qr(){if(Ot=!1,vt>1001)return;const t=Xt;Xt=[],Zr(t),Ot||(vt=0,At=null)}function Nt(t){Ot||(Ot=!0,queueMicrotask(Qr)),At=t;for(var e=t;e.parent!==null;){e=e.parent;var r=e.f;if(r&(Ct|j)){if(!(r&A))return;e.f^=A}}Xt.push(e)}function Xe(t,e){var r=t.first,i=[];t:for(;r!==null;){var n=r.f,s=(n&j)!==0,a=s&&(n&A)!==0,c=r.next;if(!a&&!(n&B))if(n&ht){if(s)r.f^=A;else try{gt(r)&&Lt(r)}catch(o){It(o,r,null,r.ctx)}var u=r.first;if(u!==null){r=u;continue}}else n&Ee&&i.push(r);if(c===null){let o=r.parent;for(;o!==null;){if(t===o)break t;var l=o.next;if(l!==null){r=l;continue t}o=o.parent}}r=c}for(var f=0;f<i.length;f++)u=i[f],e.push(u),Xe(u,e)}function h(t){var f;var e=t.f,r=(e&q)!==0;if(r&&e&st){var i=Me(t);return te(t),i}if(m!==null){Y!==null&&Y.includes(t)&&Tr();var n=m.deps;T===null&&n!==null&&n[M]===t?M++:T===null?T=[t]:T.push(t),X!==null&&g!==null&&g.f&A&&!(g.f&j)&&X.includes(t)&&(K(g,$),Nt(g))}else if(r&&t.deps===null)for(var s=t,a=s.parent,c=s;a!==null;)if(a.f&q){var u=a;c=u,a=u.parent}else{var l=a;(f=l.deriveds)!=null&&f.includes(c)||(l.deriveds??(l.deriveds=[])).push(c);break}return r&&(s=t,gt(s)&&Ie(s)),t.v}function Rt(t){const e=m;try{return m=null,t()}finally{m=e}}const zr=~($|pt|A);function K(t,e){t.f=t.f&zr|e}function We(t,e=!1,r){P={p:P,c:null,e:null,m:!1,s:t,x:null,l:null}}function Ge(t){const e=P;if(e!==null){const a=e.e;if(a!==null){var r=g,i=m;e.e=null;try{for(var n=0;n<a.length;n++){var s=a[n];Z(s.effect),G(s.reaction),Mt(s.fn)}}finally{Z(r),G(i)}}P=e.p,e.m=!0}return{}}function tn(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(nt in t)Wt(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&nt in r&&Wt(r)}}}function Wt(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let i in t)try{Wt(t[i],e)}catch{}const r=Qt(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const i=me(r);for(let n in i){const s=i[n].get;if(s)try{s.call(t)}catch{}}}}}let _e=!1;function en(){_e||(_e=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function Ze(t){var e=m,r=g;G(null),Z(null);try{return t()}finally{G(e),Z(r)}}function rn(t,e,r,i=r){t.addEventListener(e,()=>Ze(r));const n=t.__on_r;n?t.__on_r=()=>{n(),i(!0)}:t.__on_r=()=>i(!0),en()}const Je=new Set,Gt=new Set;function nn(t,e,r,i){function n(s){if(i.capture||ct.call(e,s),!s.cancelBubble)return Ze(()=>r.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Ke(()=>{e.addEventListener(t,n,i)}):e.addEventListener(t,n,i),n}function sn(t,e,r,i,n){var s={capture:i,passive:n},a=nn(t,e,r,s);(e===document.body||e===window||e===document)&&Fr(()=>{e.removeEventListener(t,a,s)})}function an(t){for(var e=0;e<t.length;e++)Je.add(t[e]);for(var r of Gt)r(t)}function ct(t){var E;var e=this,r=e.ownerDocument,i=t.type,n=((E=t.composedPath)==null?void 0:E.call(t))||[],s=n[0]||t.target,a=0,c=t.__root;if(c){var u=n.indexOf(c);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var l=n.indexOf(e);if(l===-1)return;u<=l&&(a=u)}if(s=n[a]||t.target,s!==e){_r(t,"currentTarget",{configurable:!0,get(){return s||r}});var f=m,o=g;G(null),Z(null);try{for(var _,v=[];s!==null;){var d=s.assignedSlot||s.parentNode||s.host||null;try{var w=s["__"+i];if(w!==void 0&&!s.disabled)if(Zt(w)){var[x,...C]=w;x.apply(s,[t,...C])}else w.call(s,t)}catch(S){_?v.push(S):_=S}if(t.cancelBubble||d===e||d===null)break;s=d}if(_){for(let S of v)queueMicrotask(()=>{throw S});throw _}}finally{t.__root=e,delete t.currentTarget,G(f),Z(o)}}}function ln(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function ve(t,e){var r=g;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function yt(t,e){var r=(e&or)!==0,i=(e&ur)!==0,n,s=!t.startsWith("<!>");return()=>{n===void 0&&(n=ln(s?t:"<!>"+t),r||(n=Pt(n)));var a=i?document.importNode(n,!0):n.cloneNode(!0);if(r){var c=Pt(a),u=a.lastChild;ve(c,u)}else ve(a,a);return a}}function ut(t,e){t!==null&&t.before(e)}function on(t,e){return un(t,e)}const rt=new Map;function un(t,{target:e,anchor:r,props:i={},events:n,context:s,intro:a=!0}){kr();var c=new Set,u=o=>{for(var _=0;_<o.length;_++){var v=o[_];if(!c.has(v)){c.add(v);var d=cr(v);e.addEventListener(v,ct,{passive:d});var w=rt.get(v);w===void 0?(document.addEventListener(v,ct,{passive:d}),rt.set(v,1)):rt.set(v,w+1)}}};u(Jt(Je)),Gt.add(u);var l=void 0,f=qr(()=>{var o=r??e.appendChild(Ce());return re(()=>{if(s){We({});var _=P;_.c=s}n&&(i.$$events=n),l=t(o,i)||{},s&&Ge()}),()=>{var d;for(var _ of c){e.removeEventListener(_,ct);var v=rt.get(_);--v===0?(document.removeEventListener(_,ct),rt.delete(_)):rt.set(_,v)}Gt.delete(u),o!==r&&((d=o.parentNode)==null||d.removeChild(o))}});return fn.set(l,f),l}let fn=new WeakMap;function bt(t,e){return e}function cn(t,e,r,i){for(var n=[],s=e.length,a=0;a<s;a++)ne(e[a].e,n,!0);var c=s>0&&n.length===0&&r!==null;if(c){var u=r.parentNode;Ir(u),u.append(r),i.clear(),V(t,e[0].prev,e[s-1].next)}Be(n,()=>{for(var l=0;l<s;l++){var f=e[l];c||(i.delete(f.k),V(t,f.prev,f.next)),W(f.e,!c)}})}function wt(t,e,r,i,n,s=null){var a=t,c={flags:e,items:new Map,first:null};{var u=t;a=u.appendChild(Ce())}var l=null,f=!1;Le(()=>{var o=r(),_=Zt(o)?o:o==null?[]:Jt(o),v=_.length;if(!(f&&v===0)){f=v===0;{var d=m;_n(_,c,a,n,e,(d.f&B)!==0,i)}s!==null&&(v===0?l?Ye(l):l=re(()=>s(a)):l!==null&&qe(l,()=>{l=null})),r()}})}function _n(t,e,r,i,n,s,a,c){var u=t.length,l=e.items,f=e.first,o=f,_,v=null,d=[],w=[],x,C,E,S;for(S=0;S<u;S+=1){if(x=t[S],C=a(x,S),E=l.get(C),E===void 0){var lt=o?o.e.nodes_start:r;v=dn(lt,e,v,v===null?e.first:v.next,x,C,S,i,n),l.set(C,v),d=[],w=[],o=v.next;continue}if(vn(E,x,S),E.e.f&B&&Ye(E.e),E!==o){if(_!==void 0&&_.has(E)){if(d.length<w.length){var J=w[0],R;v=J.prev;var mt=d[0],ot=d[d.length-1];for(R=0;R<d.length;R+=1)de(d[R],J,r);for(R=0;R<w.length;R+=1)_.delete(w[R]);V(e,mt.prev,ot.next),V(e,v,mt),V(e,ot,J),o=J,v=ot,S-=1,d=[],w=[]}else _.delete(E),de(E,o,r),V(e,E.prev,E.next),V(e,E,v===null?e.first:v.next),V(e,v,E),v=E;continue}for(d=[],w=[];o!==null&&o.k!==C;)(s||!(o.e.f&B))&&(_??(_=new Set)).add(o),w.push(o),o=o.next;if(o===null)continue;E=o}d.push(E),v=E,o=E.next}if(o!==null||_!==void 0){for(var et=_===void 0?[]:Jt(_);o!==null;)(s||!(o.e.f&B))&&et.push(o),o=o.next;var Ht=et.length;if(Ht>0){var p=u===0?r:null;cn(e,et,p,l)}}g.first=e.first&&e.first.e,g.last=v&&v.e}function vn(t,e,r,i){Te(t.v,e),t.i=r}function dn(t,e,r,i,n,s,a,c,u,l){var f=(u&sr)!==0,o=(u&lr)===0,_=f?o?Ar(n):N(n):n,v=u&ar?N(a):a,d={i:v,v:_,k:s,a:null,e:null,prev:r,next:i};try{return d.e=re(()=>c(t,_,v),Pe),d.e.prev=r&&r.e,d.e.next=i&&i.e,r===null?e.first=d:(r.next=d,r.e.next=d.e),i!==null&&(i.prev=d,i.e.prev=d.e),d}finally{}}function de(t,e,r){for(var i=t.next?t.next.e.nodes_start:r,n=e?e.e.nodes_start:r,s=t.e.nodes_start;s!==i;){var a=kt(s);n.before(s),s=a}}function V(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Dt(t,e,r){Mt(()=>{var i=Rt(()=>e(t,r==null?void 0:r())||{});if(r&&(i!=null&&i.update)){var n=!1,s={};ee(()=>{var a=r();tn(a),n&&Se(s,a)&&(s=a,i.update(a))}),n=!0}if(i!=null&&i.destroy)return()=>i.destroy()})}function Qe(t){var e,r,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(r=Qe(t[e]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}function hn(){for(var t,e,r=0,i="",n=arguments.length;r<n;r++)(t=arguments[r])&&(e=Qe(t))&&(i&&(i+=" "),i+=e);return i}function he(t){return typeof t=="object"?hn(t):t??""}function pn(t,e,r,i){var n=t.__attributes??(t.__attributes={});n[e]!==(n[e]=r)&&(r==null?t.removeAttribute(e):typeof r!="string"&&gn(t).includes(e)?t[e]=r:t.setAttribute(e,r))}var pe=new Map;function gn(t){var e=pe.get(t.nodeName);if(e)return e;pe.set(t.nodeName,e=[]);for(var r,i=t,n=Element.prototype;n!==i;){r=me(i);for(var s in r)r[s].set&&e.push(s);i=Qt(i)}return e}function St(t,e,r){var i=t.__className,n=yn(e,r);(i!==n||Pe)&&(e==null&&!r?t.removeAttribute("class"):t.className=n,t.__className=n)}function yn(t,e){return(t??"")+(e?" "+e:"")}function mn(t,e,r=e){rn(t,"input",i=>{var n=i?t.defaultValue:t.value;if(n=Bt(t)?Yt(n):n,r(n),n!==(n=e())){var s=t.selectionStart,a=t.selectionEnd;t.value=n??"",a!==null&&(t.selectionStart=s,t.selectionEnd=Math.min(a,t.value.length))}}),Rt(e)==null&&t.value&&r(Bt(t)?Yt(t.value):t.value),ee(()=>{var i=e();Bt(t)&&i===Yt(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function Bt(t){var e=t.type;return e==="number"||e==="range"}function Yt(t){return t===""?null:+t}function ge(t,e){return t===e||(t==null?void 0:t[nt])===e}function En(t={},e,r,i){return Mt(()=>{var n,s;return ee(()=>{n=s,s=[],Rt(()=>{t!==r(...s)&&(e(t,...s),n&&ge(r(...n),t)&&e(null,...n))})}),()=>{Ke(()=>{s&&ge(r(...s),t)&&e(null,...s)})}}),t}function bn(t){P===null&&jr(),$t(()=>{const e=Rt(t);if(typeof e=="function")return e})}const ft=[[2],[3],[4,2],[4,3],[4,3,2],[4,3,3],[4,3,3,1],[4,3,3,2],[4,3,3,3,1],[4,3,3,3,2],[4,3,3,3,2,1],[4,3,3,3,2,1],[4,3,3,3,2,1,1],[4,3,3,3,2,1,1],[4,3,3,3,2,1,1,1],[4,3,3,3,2,1,1,1],[4,3,3,3,2,1,1,1,1],[4,3,3,3,3,1,1,1,1],[4,3,3,3,3,2,1,1,1],[4,3,3,3,3,2,2,1,1]],jt=[2,3,5,6,7];var ye;(function(t){var e=function(){function i(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(i.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(n){this._dropEffect=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(n){this._effectAllowed=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),i.prototype.clearData=function(n){n!=null?delete this._data[n]:this._data=null},i.prototype.getData=function(n){return this._data[n]||""},i.prototype.setData=function(n,s){this._data[n]=s},i.prototype.setDragImage=function(n,s,a){var c=r._instance;c._imgCustom=n,c._imgOffset={x:s,y:a}},i}();t.DataTransfer=e;var r=function(){function i(){if(this._lastClick=0,i._instance)throw"DragDropTouch instance already created.";var n=!1;if(document.addEventListener("test",function(){},{get passive(){return n=!0,!0}}),"ontouchstart"in document){var s=document,a=this._touchstart.bind(this),c=this._touchmove.bind(this),u=this._touchend.bind(this),l=n?{passive:!1,capture:!1}:!1;s.addEventListener("touchstart",a,l),s.addEventListener("touchmove",c,l),s.addEventListener("touchend",u),s.addEventListener("touchcancel",u)}}return i.getInstance=function(){return i._instance},i.prototype._touchstart=function(n){var s=this;if(this._shouldHandle(n)){if(Date.now()-this._lastClick<i._DBLCLICK&&this._dispatchEvent(n,"dblclick",n.target)){n.cancelable&&n.preventDefault(),this._reset();return}this._reset();var a=this._closestDraggable(n.target);a&&!this._dispatchEvent(n,"mousemove",n.target)&&!this._dispatchEvent(n,"mousedown",n.target)&&(this._dragSource=a,this._ptDown=this._getPoint(n),this._lastTouch=n,n.cancelable&&n.preventDefault(),setTimeout(function(){s._dragSource==a&&s._img==null&&s._dispatchEvent(n,"contextmenu",a)&&s._reset()},i._CTXMENU),i._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout(function(){s._isDragEnabled=!0,s._touchmove(n)},i._PRESSHOLDAWAIT)))}},i.prototype._touchmove=function(n){if(this._shouldCancelPressHoldMove(n)){this._reset();return}if(this._shouldHandleMove(n)||this._shouldHandlePressHoldMove(n)){var s=this._getTarget(n);if(this._dispatchEvent(n,"mousemove",s)){this._lastTouch=n,n.cancelable&&n.preventDefault();return}this._dragSource&&!this._img&&this._shouldStartDragging(n)&&(this._dispatchEvent(n,"dragstart",this._dragSource),this._createImage(n),this._dispatchEvent(n,"dragenter",s)),this._img&&(this._lastTouch=n,n.cancelable&&n.preventDefault(),s!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(n,"dragenter",s),this._lastTarget=s),this._moveImage(n),this._isDropZone=this._dispatchEvent(n,"dragover",s))}},i.prototype._touchend=function(n){if(this._shouldHandle(n)){if(this._dispatchEvent(this._lastTouch,"mouseup",n.target)){n.cancelable&&n.preventDefault();return}this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",n.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(n.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},i.prototype._shouldHandle=function(n){return n&&!n.defaultPrevented&&n.touches&&n.touches.length<2},i.prototype._shouldHandleMove=function(n){return!i._ISPRESSHOLDMODE&&this._shouldHandle(n)},i.prototype._shouldHandlePressHoldMove=function(n){return i._ISPRESSHOLDMODE&&this._isDragEnabled&&n&&n.touches&&n.touches.length},i.prototype._shouldCancelPressHoldMove=function(n){return i._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(n)>i._PRESSHOLDMARGIN},i.prototype._shouldStartDragging=function(n){var s=this._getDelta(n);return s>i._THRESHOLD||i._ISPRESSHOLDMODE&&s>=i._PRESSHOLDTHRESHOLD},i.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new e,clearInterval(this._pressHoldInterval)},i.prototype._getPoint=function(n,s){return n&&n.touches&&(n=n.touches[0]),{x:s?n.pageX:n.clientX,y:s?n.pageY:n.clientY}},i.prototype._getDelta=function(n){if(i._ISPRESSHOLDMODE&&!this._ptDown)return 0;var s=this._getPoint(n);return Math.abs(s.x-this._ptDown.x)+Math.abs(s.y-this._ptDown.y)},i.prototype._getTarget=function(n){for(var s=this._getPoint(n),a=document.elementFromPoint(s.x,s.y);a&&getComputedStyle(a).pointerEvents=="none";)a=a.parentElement;return a},i.prototype._createImage=function(n){this._img&&this._destroyImage();var s=this._imgCustom||this._dragSource;if(this._img=s.cloneNode(!0),this._copyStyle(s,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var a=s.getBoundingClientRect(),c=this._getPoint(n);this._imgOffset={x:c.x-a.left,y:c.y-a.top},this._img.style.opacity=i._OPACITY.toString()}this._moveImage(n),document.body.appendChild(this._img)},i.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},i.prototype._moveImage=function(n){var s=this;requestAnimationFrame(function(){if(s._img){var a=s._getPoint(n,!0),c=s._img.style;c.position="absolute",c.pointerEvents="none",c.zIndex="999999",c.left=Math.round(a.x-s._imgOffset.x)+"px",c.top=Math.round(a.y-s._imgOffset.y)+"px"}})},i.prototype._copyProps=function(n,s,a){for(var c=0;c<a.length;c++){var u=a[c];n[u]=s[u]}},i.prototype._copyStyle=function(n,s){if(i._rmvAtts.forEach(function(o){s.removeAttribute(o)}),n instanceof HTMLCanvasElement){var a=n,c=s;c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0)}for(var u=getComputedStyle(n),l=0;l<u.length;l++){var f=u[l];f.indexOf("transition")<0&&(s.style[f]=u[f])}s.style.pointerEvents="none";for(var l=0;l<n.children.length;l++)this._copyStyle(n.children[l],s.children[l])},i.prototype._dispatchEvent=function(n,s,a){if(n&&a){var c=document.createEvent("Event"),u=n.touches?n.touches[0]:n;return c.initEvent(s,!0,!0),c.button=0,c.which=c.buttons=1,this._copyProps(c,n,i._kbdProps),this._copyProps(c,u,i._ptProps),c.dataTransfer=this._dataTransfer,a.dispatchEvent(c),c.defaultPrevented}return!1},i.prototype._closestDraggable=function(n){for(;n;n=n.parentElement)if(n.hasAttribute("draggable")&&n.draggable)return n;return null},i}();r._instance=new r,r._THRESHOLD=5,r._OPACITY=.5,r._DBLCLICK=500,r._CTXMENU=900,r._ISPRESSHOLDMODE=!1,r._PRESSHOLDAWAIT=400,r._PRESSHOLDMARGIN=25,r._PRESSHOLDTHRESHOLD=0,r._rmvAtts="id,class,style,draggable".split(","),r._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),r._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),t.DragDropTouch=r})(ye||(ye={}));var wn=(t,e)=>e(t),Dn=yt("<div></div>"),Sn=yt('<div><h2 class="svelte-8bipty"></h2> <button class="svelte-8bipty">-</button> <div class="flex wrap svelte-8bipty"></div> <button class="svelte-8bipty">+</button></div>'),Tn=(t,e)=>e(-1),xn=yt('<div class="box white svelte-8bipty"></div>'),Pn=(t,e)=>e(1),On=(t,e,r)=>{h(e).state=!h(e).state,r()},An=yt('<div class="flex svelte-8bipty"><input class="box field svelte-8bipty" type="text"> <button></button></div>'),Cn=(t,e,r)=>{h(e).onePerDays.push({name:"Spell",state:!0}),h(e).onePerDays=h(e).onePerDays,r()},kn=yt('<main class="svelte-8bipty"><h1 class="svelte-8bipty">Spell Slots</h1> <section class="flex svelte-8bipty"><input class="box field m0a svelte-8bipty" type="number" min="1"></section> <section class="svelte-8bipty"><div class="svelte-8bipty"></div></section> <section class="svelte-8bipty"><div><h2 class="sp-offset svelte-8bipty">SP</h2> <button class="svelte-8bipty">-</button> <div class="flex wrap svelte-8bipty"></div> <button class="svelte-8bipty">+</button></div></section></main> <section class="svelte-8bipty"><div class="m0a svelte-8bipty"></div> <button class="m0a svelte-8bipty">Add a once-per-day</button></section>',1);function Mn(t,e){We(e,!0);let r=le(-1),i=le(Q({level:1,deltas:[0],onePerDays:[],sps:0}));const n=localStorage.getItem("characterData");n!=null&&F(i,Q(JSON.parse(n)));var s;bn(()=>{s.value=h(i).level.toString()});function a(p,y,b,D){return b>p-1?"box green":b<p+D[y]?"box white":"box"}function c(p,y=1,b=!0){let D=ft[h(i).level-1][p];h(i).deltas[p]+=y,h(i).deltas[p]+D<0&&(h(i).deltas[p]=-D),b&&_()}function u(p,y=!0){h(i).sps+=p,h(i).sps=Math.max(h(i).sps,0),y&&_()}function l(p){const y=p.target.value;h(i).deltas=Array(ft[y?y-1:1].length).fill(0).map((b,D)=>D<h(i).deltas.length?h(i).deltas[D]:0),h(i).level=y||1,_()}function f(p,y=-1){p.draggable=!0,p.style.cursor="grab";function b(I){I.dataTransfer.setData("text/plain",y)}function D(I){F(r,-1)}$t(()=>(p.addEventListener("dragstart",b),p.addEventListener("dragend",D),()=>{p.removeEventListener("dragstart",b),p.addEventListener("dragend",D)}))}function o(p,y=-1){function b(H){const O=H.dataTransfer.getData("text/plain",y);if(!(O>4||y>4)){if(y==-1&&O>-1){if(ft[h(i).level-1][O]+h(i).deltas[O]<1)return;c(O,-1),u(jt[O])}else if(y>-1&&O==-1){if(h(i).sps<jt[y])return;u(-jt[y]),c(y,1)}}}function D(H){F(r,y+1)}function I(H){H.preventDefault(),H.dataTransfer.dropEffect="move"}$t(()=>(p.addEventListener("dragstart",b),p.addEventListener("dragenter",D),p.addEventListener("drop",b),p.addEventListener("dragover",I),()=>{p.removeEventListener("dragstart",b),p.removeEventListener("dragenter",D),p.removeEventListener("dragover",I)}))}function _(){localStorage.setItem("characterData",JSON.stringify(h(i)))}var v=kn(),d=Mr(v),w=L(U(d),2),x=U(w);x.__input=[wn,l],En(x,p=>s=p,()=>s);var C=L(w,2),E=U(C);wt(E,21,()=>ft[h(i).level-1],bt,(p,y,b)=>{var D=Sn(),I=U(D);I.textContent=b+1;var H=L(I,2);H.__click=()=>c(b,-1);var O=L(H,2);wt(O,21,()=>Array(h(y)+Math.max(0,h(i).deltas[b])),bt,(Ft,se,tr)=>{var qt=Dn();const er=Lr(()=>he(a(h(y),b,tr,h(i).deltas)));Dt(qt,(rr,nr)=>f==null?void 0:f(rr,nr),()=>b),Et(()=>St(qt,h(er),"svelte-8bipty")),ut(Ft,qt)});var ze=L(O,2);ze.__click=()=>c(b),Dt(D,(Ft,se)=>o==null?void 0:o(Ft,se),()=>b),Et(()=>St(D,`${"flex fade spellRow "+(h(r)===b+1?"droppable":"dropping")} svelte-8bipty`)),ut(p,D)});var S=L(C,2),lt=U(S),J=L(U(lt),2);J.__click=[Tn,u];var R=L(J,2);wt(R,21,()=>Array(h(i).sps).fill(0),bt,(p,y)=>{var b=xn();Dt(b,D=>f==null?void 0:f(D)),ut(p,b)});var mt=L(R,2);mt.__click=[Pn,u],Dt(lt,p=>o==null?void 0:o(p));var ot=L(d,2),et=U(ot);wt(et,21,()=>h(i).onePerDays,bt,(p,y,b)=>{var D=An(),I=U(D),H=L(I,2);H.__click=[On,y,_],Et(()=>St(H,he(h(y).state?"box white":"box"),"svelte-8bipty")),sn("blur",I,()=>{h(i).onePerDays=h(i).onePerDays.filter(O=>O.name!=""),_()}),mn(I,()=>h(y).name,O=>h(y).name=O),ut(p,D)});var Ht=L(et,2);Ht.__click=[Cn,i,_],Et(()=>{pn(x,"max",ft.length),St(lt,`${"flex fade "+(h(r)===0?"droppable":"dropping")} svelte-8bipty`)}),ut(t,v),Ge()}an(["input","click"]);on(Mn,{target:document.getElementById("app")});
