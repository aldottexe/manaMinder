var oe=Object.defineProperty;var re=(e,t,n)=>t in e?oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var J=(e,t,n)=>re(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function j(){}function te(e){return e()}function U(){return Object.create(null)}function S(e){e.forEach(te)}function ne(e){return typeof e=="function"}function se(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ce(e){return Object.keys(e).length===0}function M(e){return e??""}function g(e,t){e.appendChild(t)}function I(e,t,n){e.insertBefore(t,n||null)}function x(e){e.parentNode&&e.parentNode.removeChild(e)}function q(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function ie(e){return document.createTextNode(e)}function k(){return ie(" ")}function O(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function y(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ue(e){return Array.from(e.childNodes)}function V(e,t){e.value=t??""}let R;function L(e){R=e}const A=[],z=[];let N=[];const G=[],fe=Promise.resolve();let F=!1;function ae(){F||(F=!0,fe.then(le))}function K(e){N.push(e)}const T=new Set;let P=0;function le(){if(P!==0)return;const e=R;do{try{for(;P<A.length;){const t=A[P];P++,L(t),de(t.$$)}}catch(t){throw A.length=0,P=0,t}for(L(null),A.length=0,P=0;z.length;)z.pop()();for(let t=0;t<N.length;t+=1){const n=N[t];T.has(n)||(T.add(n),n())}N.length=0}while(A.length);for(;G.length;)G.pop()();F=!1,T.clear(),L(e)}function de(e){if(e.fragment!==null){e.update(),S(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(K)}}function he(e){const t=[],n=[];N.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),N=t}const _e=new Set;function ge(e,t){e&&e.i&&(_e.delete(e),e.i(t))}function C(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function pe(e,t,n){const{fragment:l,after_update:o}=e.$$;l&&l.m(t,n),K(()=>{const s=e.$$.on_mount.map(te).filter(ne);e.$$.on_destroy?e.$$.on_destroy.push(...s):S(s),e.$$.on_mount=[]}),o.forEach(K)}function me(e,t){const n=e.$$;n.fragment!==null&&(he(n.after_update),S(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ye(e,t){e.$$.dirty[0]===-1&&(A.push(e),ae(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function be(e,t,n,l,o,s,d=null,p=[-1]){const w=R;L(e);const u=e.$$={fragment:null,ctx:[],props:s,update:j,not_equal:o,bound:U(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(w?w.$$.context:[])),callbacks:U(),dirty:p,skip_bound:!1,root:t.target||w.$$.root};d&&d(u.root);let m=!1;if(u.ctx=n?n(e,t.props||{},(h,$,..._)=>{const a=_.length?_[0]:$;return u.ctx&&o(u.ctx[h],u.ctx[h]=a)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](a),m&&ye(e,h)),$}):[],u.update(),m=!0,S(u.before_update),u.fragment=l?l(u.ctx):!1,t.target){if(t.hydrate){const h=ue(t.target);u.fragment&&u.fragment.l(h),h.forEach(x)}else u.fragment&&u.fragment.c();t.intro&&ge(e.$$.fragment),pe(e,t.target,t.anchor),le()}L(w)}class ve{constructor(){J(this,"$$");J(this,"$$set")}$destroy(){me(this,1),this.$destroy=j}$on(t,n){if(!ne(n))return j;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!ce(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const we="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(we);const B=[[2],[3],[4,2],[4,3],[4,3,2],[4,3,3],[4,3,3,1],[4,3,3,2],[4,3,3,3,1],[4,3,3,3,2],[4,3,3,3,2,1],[4,3,3,3,2,1],[4,3,3,3,2,1,1],[4,3,3,3,2,1,1],[4,3,3,3,2,1,1,1],[4,3,3,3,2,1,1,1],[4,3,3,3,2,1,1,1,1],[4,3,3,3,3,1,1,1,1],[4,3,3,3,3,2,1,1,1],[4,3,3,3,3,2,2,1,1]];function H(e,t,n){const l=e.slice();return l[11]=t[n],l[12]=t,l[13]=n,l}function Q(e,t,n){const l=e.slice();return l[14]=t[n],l[16]=n,l}function W(e,t,n){const l=e.slice();return l[17]=t[n],l[19]=n,l}function X(e){let t,n;return{c(){t=v("div"),y(t,"class",n=M(ee(e[14],e[16],e[19],e[0].deltas))+" svelte-1e1gywt")},m(l,o){I(l,t,o)},p(l,o){o&1&&n!==(n=M(ee(l[14],l[16],l[19],l[0].deltas))+" svelte-1e1gywt")&&y(t,"class",n)},d(l){l&&x(t)}}}function Y(e){let t,n,l,o,s,d,p,w,u,m;function h(){return e[4](e[16],e[14])}let $=C(Array(e[14]+Math.max(0,e[0].deltas[e[16]]))),_=[];for(let r=0;r<$.length;r+=1)_[r]=X(W(e,$,r));function a(){return e[5](e[16],e[14])}return{c(){t=v("div"),n=v("h2"),n.textContent=`${e[16]+1}`,l=k(),o=v("button"),o.textContent="-",s=k();for(let r=0;r<_.length;r+=1)_[r].c();d=k(),p=v("button"),p.textContent="+",w=k(),y(t,"class","flex svelte-1e1gywt")},m(r,b){I(r,t,b),g(t,n),g(t,l),g(t,o),g(t,s);for(let i=0;i<_.length;i+=1)_[i]&&_[i].m(t,null);g(t,d),g(t,p),g(t,w),u||(m=[O(o,"click",h),O(p,"click",a)],u=!0)},p(r,b){if(e=r,b&1){$=C(Array(e[14]+Math.max(0,e[0].deltas[e[16]])));let i;for(i=0;i<$.length;i+=1){const f=W(e,$,i);_[i]?_[i].p(f,b):(_[i]=X(f),_[i].c(),_[i].m(t,d))}for(;i<_.length;i+=1)_[i].d(1);_.length=$.length}},d(r){r&&x(t),q(_,r),u=!1,S(m)}}}function Z(e){let t,n,l,o,s,d,p;function w(){e[6].call(n,e[12],e[13])}function u(){return e[8](e[11],e[12],e[13])}return{c(){t=v("div"),n=v("input"),l=k(),o=v("button"),y(n,"class","box field svelte-1e1gywt"),y(n,"type","text"),y(o,"class",s=M(e[11].state?"box white":"box")+" svelte-1e1gywt"),y(t,"class","flex svelte-1e1gywt")},m(m,h){I(m,t,h),g(t,n),V(n,e[11].name),g(t,l),g(t,o),d||(p=[O(n,"input",w),O(n,"blur",e[7]),O(o,"click",u)],d=!0)},p(m,h){e=m,h&1&&n.value!==e[11].name&&V(n,e[11].name),h&1&&s!==(s=M(e[11].state?"box white":"box")+" svelte-1e1gywt")&&y(o,"class",s)},d(m){m&&x(t),d=!1,S(p)}}}function $e(e){let t,n,l,o,s,d,p,w,u,m,h,$,_,a=C(B[e[0].level-1]),r=[];for(let f=0;f<a.length;f+=1)r[f]=Y(Q(e,a,f));let b=C(e[0].onePerDays),i=[];for(let f=0;f<b.length;f+=1)i[f]=Z(H(e,b,f));return{c(){t=v("main"),n=v("h1"),n.textContent="Spell Slots",l=k(),o=v("div"),s=v("input"),d=k(),p=v("section");for(let f=0;f<r.length;f+=1)r[f].c();w=k(),u=v("section");for(let f=0;f<i.length;f+=1)i[f].c();m=k(),h=v("button"),h.textContent="Add a once-per-day",y(s,"class","box field ml59 svelte-1e1gywt"),y(s,"type","number"),y(s,"min","1"),y(s,"max",B.length),y(o,"class","flex svelte-1e1gywt"),y(p,"class","svelte-1e1gywt"),y(h,"class","ml59 svelte-1e1gywt"),y(u,"class","svelte-1e1gywt")},m(f,E){I(f,t,E),g(t,n),g(t,l),g(t,o),g(o,s),g(t,d),g(t,p);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(p,null);g(t,w),g(t,u);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(u,null);g(u,m),g(u,h),$||(_=[O(s,"input",e[3]),O(h,"click",e[9])],$=!0)},p(f,[E]){if(E&3){a=C(B[f[0].level-1]);let c;for(c=0;c<a.length;c+=1){const D=Q(f,a,c);r[c]?r[c].p(D,E):(r[c]=Y(D),r[c].c(),r[c].m(p,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=a.length}if(E&5){b=C(f[0].onePerDays);let c;for(c=0;c<b.length;c+=1){const D=H(f,b,c);i[c]?i[c].p(D,E):(i[c]=Z(D),i[c].c(),i[c].m(u,m))}for(;c<i.length;c+=1)i[c].d(1);i.length=b.length}},i:j,o:j,d(f){f&&x(t),q(r,f),q(i,f),$=!1,S(_)}}}function ee(e,t,n,l){return n>e-1?"box green":n<e+l[t]?"box white":"box"}function ke(e,t,n){let l;const o=localStorage.getItem("characterData");o==null?l={level:1,deltas:[0],onePerDays:[]}:l=JSON.parse(o);function s(a,r,b=!1){console.log("incrementing"),b?l.deltas[a]>=-r&&n(0,l.deltas[a]--,l):(n(0,l.deltas[a]+=1,l),console.log("adding")),d()}function d(){localStorage.setItem("characterData",JSON.stringify(l))}const p=a=>{const r=a.target.value;console.log(l.level),n(0,l.deltas=Array(B[r?r-1:0].length).fill(0),l),n(0,l.level=r,l)},w=(a,r)=>s(a,r,!0),u=(a,r)=>s(a,r);function m(a,r){a[r].name=this.value,n(0,l)}return[l,s,d,p,w,u,m,()=>{n(0,l.onePerDays=l.onePerDays.filter((a,r)=>a.name!=""),l),d()},(a,r,b)=>{n(0,r[b].state=!a.state,l),d()},()=>{l.onePerDays.push({name:"Spell",state:!0}),n(0,l),d()}]}class Oe extends ve{constructor(t){super(),be(this,t,ke,$e,se,{})}}new Oe({target:document.getElementById("app")});
