var me=Object.defineProperty;var be=(e,t,n)=>t in e?me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Q=(e,t,n)=>be(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const _ of i.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&l(_)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function q(){}function _e(e){return e()}function te(){return Object.create(null)}function L(e){e.forEach(_e)}function pe(e){return typeof e=="function"}function ye(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ve(e){return Object.keys(e).length===0}function G(e){return e??""}function f(e,t){e.appendChild(t)}function R(e,t,n){e.insertBefore(t,n||null)}function F(e){e.parentNode&&e.parentNode.removeChild(e)}function V(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function ke(e){return document.createTextNode(e)}function C(){return ke(" ")}function O(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $e(e){return Array.from(e.childNodes)}function ne(e,t){e.value=t??""}let Z;function K(e){Z=e}const J=[],le=[];let T=[];const se=[],we=Promise.resolve();let X=!1;function Se(){X||(X=!0,we.then(ge))}function Y(e){T.push(e)}const W=new Set;let I=0;function ge(){if(I!==0)return;const e=Z;do{try{for(;I<J.length;){const t=J[I];I++,K(t),Ae(t.$$)}}catch(t){throw J.length=0,I=0,t}for(K(null),J.length=0,I=0;le.length;)le.pop()();for(let t=0;t<T.length;t+=1){const n=T[t];W.has(n)||(W.add(n),n())}T.length=0}while(J.length);for(;se.length;)se.pop()();X=!1,W.clear(),K(e)}function Ae(e){if(e.fragment!==null){e.update(),L(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Y)}}function Ce(e){const t=[],n=[];T.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),T=t}const Oe=new Set;function Pe(e,t){e&&e.i&&(Oe.delete(e),e.i(t))}function N(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Ee(e,t,n){const{fragment:l,after_update:r}=e.$$;l&&l.m(t,n),Y(()=>{const i=e.$$.on_mount.map(_e).filter(pe);e.$$.on_destroy?e.$$.on_destroy.push(...i):L(i),e.$$.on_mount=[]}),r.forEach(Y)}function Ne(e,t){const n=e.$$;n.fragment!==null&&(Ce(n.after_update),L(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function De(e,t){e.$$.dirty[0]===-1&&(J.push(e),Se(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function xe(e,t,n,l,r,i,_=null,h=[-1]){const S=Z;K(e);const u=e.$$={fragment:null,ctx:[],props:i,update:q,not_equal:r,bound:te(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(S?S.$$.context:[])),callbacks:te(),dirty:h,skip_bound:!1,root:t.target||S.$$.root};_&&_(u.root);let y=!1;if(u.ctx=n?n(e,t.props||{},(d,A,...a)=>{const v=a.length?a[0]:A;return u.ctx&&r(u.ctx[d],u.ctx[d]=v)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](v),y&&De(e,d)),A}):[],u.update(),y=!0,L(u.before_update),u.fragment=l?l(u.ctx):!1,t.target){if(t.hydrate){const d=$e(t.target);u.fragment&&u.fragment.l(d),d.forEach(F)}else u.fragment&&u.fragment.c();t.intro&&Pe(e.$$.fragment),Ee(e,t.target,t.anchor),ge()}K(S)}class Le{constructor(){Q(this,"$$");Q(this,"$$set")}$destroy(){Ne(this,1),this.$destroy=q}$on(t,n){if(!pe(n))return q;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(t){this.$$set&&!ve(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Me="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Me);const z=[[2],[3],[4,2],[4,3],[4,3,2],[4,3,3],[4,3,3,1],[4,3,3,2],[4,3,3,3,1],[4,3,3,3,2],[4,3,3,3,2,1],[4,3,3,3,2,1],[4,3,3,3,2,1,1],[4,3,3,3,2,1,1],[4,3,3,3,2,1,1,1],[4,3,3,3,2,1,1,1],[4,3,3,3,2,1,1,1,1],[4,3,3,3,3,1,1,1,1],[4,3,3,3,3,2,1,1,1],[4,3,3,3,3,2,2,1,1]];function re(e,t,n){const l=e.slice();return l[14]=t[n],l}function oe(e,t,n){const l=e.slice();return l[17]=t[n],l[18]=t,l[19]=n,l}function ce(e,t,n){const l=e.slice();return l[20]=t[n],l[22]=n,l}function ie(e,t,n){const l=e.slice();return l[14]=t[n],l[24]=n,l}function ue(e){let t,n;return{c(){t=g("div"),b(t,"class",n=G(he(e[20],e[22],e[24],e[0].deltas))+" svelte-y8lnrs")},m(l,r){R(l,t,r)},p(l,r){r&1&&n!==(n=G(he(l[20],l[22],l[24],l[0].deltas))+" svelte-y8lnrs")&&b(t,"class",n)},d(l){l&&F(t)}}}function fe(e){let t,n,l,r,i,_,h,S,u,y;function d(){return e[5](e[22],e[20])}let A=N(Array(e[20]+Math.max(0,e[0].deltas[e[22]]))),a=[];for(let m=0;m<A.length;m+=1)a[m]=ue(ie(e,A,m));function v(){return e[6](e[22],e[20])}return{c(){t=g("div"),n=g("h2"),n.textContent=`${e[22]+1}`,l=C(),r=g("button"),r.textContent="-",i=C();for(let m=0;m<a.length;m+=1)a[m].c();_=C(),h=g("button"),h.textContent="+",S=C(),b(t,"class","flex svelte-y8lnrs")},m(m,P){R(m,t,P),f(t,n),f(t,l),f(t,r),f(t,i);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(t,null);f(t,_),f(t,h),f(t,S),u||(y=[O(r,"click",d),O(h,"click",v)],u=!0)},p(m,P){if(e=m,P&1){A=N(Array(e[20]+Math.max(0,e[0].deltas[e[22]])));let o;for(o=0;o<A.length;o+=1){const p=ie(e,A,o);a[o]?a[o].p(p,P):(a[o]=ue(p),a[o].c(),a[o].m(t,_))}for(;o<a.length;o+=1)a[o].d(1);a.length=A.length}},d(m){m&&F(t),V(a,m),u=!1,L(y)}}}function ae(e){let t,n,l,r,i,_,h;function S(){e[7].call(n,e[18],e[19])}function u(){return e[9](e[17],e[18],e[19])}return{c(){t=g("div"),n=g("input"),l=C(),r=g("button"),b(n,"class","box field svelte-y8lnrs"),b(n,"type","text"),b(r,"class",i=G(e[17].state?"box white":"box")+" svelte-y8lnrs"),b(t,"class","flex svelte-y8lnrs")},m(y,d){R(y,t,d),f(t,n),ne(n,e[17].name),f(t,l),f(t,r),_||(h=[O(n,"input",S),O(n,"blur",e[8]),O(r,"click",u)],_=!0)},p(y,d){e=y,d&1&&n.value!==e[17].name&&ne(n,e[17].name),d&1&&i!==(i=G(e[17].state?"box white":"box")+" svelte-y8lnrs")&&b(r,"class",i)},d(y){y&&F(t),_=!1,L(h)}}}function de(e){let t;return{c(){t=g("div"),b(t,"class","box white svelte-y8lnrs")},m(n,l){R(n,t,l)},p:q,d(n){n&&F(t)}}}function je(e){let t,n,l,r,i,_,h,S,u,y,d,A,a,v,m,P,o,p,D,U,H,ee,M=N(z[e[0].level-1]),k=[];for(let c=0;c<M.length;c+=1)k[c]=fe(ce(e,M,c));let j=N(e[0].onePerDays),$=[];for(let c=0;c<j.length;c+=1)$[c]=ae(oe(e,j,c));let B=N(Array(e[0].sps).fill(0)),w=[];for(let c=0;c<B.length;c+=1)w[c]=de(re(e,B,c));return{c(){t=g("main"),n=g("h1"),n.textContent="Spell Slots",l=C(),r=g("div"),i=g("input"),_=C(),h=g("section");for(let c=0;c<k.length;c+=1)k[c].c();S=C(),u=g("section");for(let c=0;c<$.length;c+=1)$[c].c();y=C(),d=g("button"),d.textContent="Add a once-per-day",A=C(),a=g("section"),v=g("div"),m=g("h2"),m.textContent="SP",P=C(),o=g("button"),o.textContent="-",p=C();for(let c=0;c<w.length;c+=1)w[c].c();D=C(),U=g("button"),U.textContent="+",b(i,"class","box field ml59 svelte-y8lnrs"),b(i,"type","number"),b(i,"min","1"),b(i,"max",z.length),b(r,"class","flex svelte-y8lnrs"),b(h,"class","svelte-y8lnrs"),b(d,"class","ml59 svelte-y8lnrs"),b(u,"class","svelte-y8lnrs"),b(v,"class","flex svelte-y8lnrs"),b(a,"class","svelte-y8lnrs")},m(c,E){R(c,t,E),f(t,n),f(t,l),f(t,r),f(r,i),f(t,_),f(t,h);for(let s=0;s<k.length;s+=1)k[s]&&k[s].m(h,null);f(t,S),f(t,u);for(let s=0;s<$.length;s+=1)$[s]&&$[s].m(u,null);f(u,y),f(u,d),f(t,A),f(t,a),f(a,v),f(v,m),f(v,P),f(v,o),f(v,p);for(let s=0;s<w.length;s+=1)w[s]&&w[s].m(v,null);f(v,D),f(v,U),H||(ee=[O(i,"input",e[4]),O(d,"click",e[10]),O(o,"click",e[11]),O(U,"click",e[12])],H=!0)},p(c,[E]){if(E&3){M=N(z[c[0].level-1]);let s;for(s=0;s<M.length;s+=1){const x=ce(c,M,s);k[s]?k[s].p(x,E):(k[s]=fe(x),k[s].c(),k[s].m(h,null))}for(;s<k.length;s+=1)k[s].d(1);k.length=M.length}if(E&9){j=N(c[0].onePerDays);let s;for(s=0;s<j.length;s+=1){const x=oe(c,j,s);$[s]?$[s].p(x,E):($[s]=ae(x),$[s].c(),$[s].m(u,y))}for(;s<$.length;s+=1)$[s].d(1);$.length=j.length}if(E&1){B=N(Array(c[0].sps).fill(0));let s;for(s=0;s<B.length;s+=1){const x=re(c,B,s);w[s]?w[s].p(x,E):(w[s]=de(),w[s].c(),w[s].m(v,D))}for(;s<w.length;s+=1)w[s].d(1);w.length=B.length}},i:q,o:q,d(c){c&&F(t),V(k,c),V($,c),V(w,c),H=!1,L(ee)}}}function he(e,t,n,l){return n>e-1?"box green":n<e+l[t]?"box white":"box"}function Be(e,t,n){let l;const r=localStorage.getItem("characterData");r==null?l={level:1,deltas:[0],onePerDays:[],sps:0}:l=JSON.parse(r);function i(o,p,D=!1){console.log("incrementing"),D?l.deltas[o]>=-p&&n(0,l.deltas[o]--,l):(n(0,l.deltas[o]+=1,l),console.log("adding")),h()}function _(o=!1){n(0,l.sps+=o?-1:1,l),n(0,l.sps=Math.max(l.sps,0),l),console.log(l.sps),h()}function h(){localStorage.setItem("characterData",JSON.stringify(l))}const S=o=>{const p=o.target.value;console.log(l.level),n(0,l.deltas=Array(z[p?p-1:1].length).fill(0),l),n(0,l.level=p||1,l)},u=(o,p)=>i(o,p,!0),y=(o,p)=>i(o,p);function d(o,p){o[p].name=this.value,n(0,l)}return[l,i,_,h,S,u,y,d,()=>{n(0,l.onePerDays=l.onePerDays.filter((o,p)=>o.name!=""),l),h()},(o,p,D)=>{n(0,p[D].state=!o.state,l),h()},()=>{l.onePerDays.push({name:"Spell",state:!0}),n(0,l),h()},()=>_(!0),()=>_()]}class Ie extends Le{constructor(t){super(),xe(this,t,Be,je,ye,{})}}new Ie({target:document.getElementById("app")});
