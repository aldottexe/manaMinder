var we=Object.defineProperty;var ye=(e,t,n)=>t in e?we(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var W=(e,t,n)=>ye(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const r of c)if(r.type==="childList")for(const g of r.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&l(g)}).observe(document,{childList:!0,subtree:!0});function n(c){const r={};return c.integrity&&(r.integrity=c.integrity),c.referrerPolicy&&(r.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?r.credentials="include":c.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(c){if(c.ep)return;c.ep=!0;const r=n(c);fetch(c.href,r)}})();function q(){}function me(e){return e()}function se(){return Object.create(null)}function L(e){e.forEach(me)}function be(e){return typeof e=="function"}function ke(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function xe(e){return Object.keys(e).length===0}function H(e){return e??""}function u(e,t){e.appendChild(t)}function U(e,t,n){e.insertBefore(t,n||null)}function F(e){e.parentNode&&e.parentNode.removeChild(e)}function z(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function h(e){return document.createElement(e)}function $e(e){return document.createTextNode(e)}function S(){return $e(" ")}function O(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function p(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Se(e){return Array.from(e.childNodes)}function ce(e,t){e.value=t??""}let ee;function R(e){ee=e}const J=[],oe=[];let T=[];const re=[],Ae=Promise.resolve();let Y=!1;function Ce(){Y||(Y=!0,Ae.then(ve))}function Z(e){T.push(e)}const X=new Set;let I=0;function ve(){if(I!==0)return;const e=ee;do{try{for(;I<J.length;){const t=J[I];I++,R(t),Oe(t.$$)}}catch(t){throw J.length=0,I=0,t}for(R(null),J.length=0,I=0;oe.length;)oe.pop()();for(let t=0;t<T.length;t+=1){const n=T[t];X.has(n)||(X.add(n),n())}T.length=0}while(J.length);for(;re.length;)re.pop()();Y=!1,X.clear(),R(e)}function Oe(e){if(e.fragment!==null){e.update(),L(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Z)}}function Pe(e){const t=[],n=[];T.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),T=t}const Ee=new Set;function Ne(e,t){e&&e.i&&(Ee.delete(e),e.i(t))}function E(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function De(e,t,n){const{fragment:l,after_update:c}=e.$$;l&&l.m(t,n),Z(()=>{const r=e.$$.on_mount.map(me).filter(be);e.$$.on_destroy?e.$$.on_destroy.push(...r):L(r),e.$$.on_mount=[]}),c.forEach(Z)}function Le(e,t){const n=e.$$;n.fragment!==null&&(Pe(n.after_update),L(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Me(e,t){e.$$.dirty[0]===-1&&(J.push(e),Ce(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function je(e,t,n,l,c,r,g=null,b=[-1]){const v=ee;R(e);const d=e.$$={fragment:null,ctx:[],props:r,update:q,not_equal:c,bound:se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(v?v.$$.context:[])),callbacks:se(),dirty:b,skip_bound:!1,root:t.target||v.$$.root};g&&g(d.root);let w=!1;if(d.ctx=n?n(e,t.props||{},(_,A,...y)=>{const m=y.length?y[0]:A;return d.ctx&&c(d.ctx[_],d.ctx[_]=m)&&(!d.skip_bound&&d.bound[_]&&d.bound[_](m),w&&Me(e,_)),A}):[],d.update(),w=!0,L(d.before_update),d.fragment=l?l(d.ctx):!1,t.target){if(t.hydrate){const _=Se(t.target);d.fragment&&d.fragment.l(_),_.forEach(F)}else d.fragment&&d.fragment.c();t.intro&&Ne(e.$$.fragment),De(e,t.target,t.anchor),ve()}R(v)}class Be{constructor(){W(this,"$$");W(this,"$$set")}$destroy(){Le(this,1),this.$destroy=q}$on(t,n){if(!be(n))return q;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const c=l.indexOf(n);c!==-1&&l.splice(c,1)}}$set(t){this.$$set&&!xe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ie="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ie);const G=[[2],[3],[4,2],[4,3],[4,3,2],[4,3,3],[4,3,3,1],[4,3,3,2],[4,3,3,3,1],[4,3,3,3,2],[4,3,3,3,2,1],[4,3,3,3,2,1],[4,3,3,3,2,1,1],[4,3,3,3,2,1,1],[4,3,3,3,2,1,1,1],[4,3,3,3,2,1,1,1],[4,3,3,3,2,1,1,1,1],[4,3,3,3,3,1,1,1,1],[4,3,3,3,3,2,1,1,1],[4,3,3,3,3,2,2,1,1]];function ie(e,t,n){const l=e.slice();return l[14]=t[n],l}function ue(e,t,n){const l=e.slice();return l[17]=t[n],l[18]=t,l[19]=n,l}function fe(e,t,n){const l=e.slice();return l[20]=t[n],l[22]=n,l}function ae(e,t,n){const l=e.slice();return l[14]=t[n],l[24]=n,l}function de(e){let t,n;return{c(){t=h("div"),p(t,"class",n=H(ge(e[20],e[22],e[24],e[0].deltas))+" svelte-1wthcxs")},m(l,c){U(l,t,c)},p(l,c){c&1&&n!==(n=H(ge(l[20],l[22],l[24],l[0].deltas))+" svelte-1wthcxs")&&p(t,"class",n)},d(l){l&&F(t)}}}function he(e){let t,n,l,c,r,g,b,v,d,w,_;function A(){return e[5](e[22],e[20])}let y=E(Array(e[20]+Math.max(0,e[0].deltas[e[22]]))),m=[];for(let f=0;f<y.length;f+=1)m[f]=de(ae(e,y,f));function N(){return e[6](e[22],e[20])}return{c(){t=h("div"),n=h("h2"),n.textContent=`${e[22]+1}`,l=S(),c=h("button"),c.textContent="-",r=S(),g=h("div");for(let f=0;f<m.length;f+=1)m[f].c();b=S(),v=h("button"),v.textContent="+",d=S(),p(n,"class","svelte-1wthcxs"),p(g,"class","flex wrap svelte-1wthcxs"),p(t,"class","flex svelte-1wthcxs")},m(f,a){U(f,t,a),u(t,n),u(t,l),u(t,c),u(t,r),u(t,g);for(let i=0;i<m.length;i+=1)m[i]&&m[i].m(g,null);u(t,b),u(t,v),u(t,d),w||(_=[O(c,"click",A),O(v,"click",N)],w=!0)},p(f,a){if(e=f,a&1){y=E(Array(e[20]+Math.max(0,e[0].deltas[e[22]])));let i;for(i=0;i<y.length;i+=1){const C=ae(e,y,i);m[i]?m[i].p(C,a):(m[i]=de(C),m[i].c(),m[i].m(g,null))}for(;i<m.length;i+=1)m[i].d(1);m.length=y.length}},d(f){f&&F(t),z(m,f),w=!1,L(_)}}}function _e(e){let t,n,l,c,r,g,b,v;function d(){e[7].call(n,e[18],e[19])}function w(){return e[9](e[17],e[18],e[19])}return{c(){t=h("div"),n=h("input"),l=S(),c=h("button"),g=S(),p(n,"class","box field svelte-1wthcxs"),p(n,"type","text"),p(c,"class",r=H(e[17].state?"box white":"box")+" svelte-1wthcxs"),p(t,"class","flex svelte-1wthcxs")},m(_,A){U(_,t,A),u(t,n),ce(n,e[17].name),u(t,l),u(t,c),u(t,g),b||(v=[O(n,"input",d),O(n,"blur",e[8]),O(c,"click",w)],b=!0)},p(_,A){e=_,A&1&&n.value!==e[17].name&&ce(n,e[17].name),A&1&&r!==(r=H(e[17].state?"box white":"box")+" svelte-1wthcxs")&&p(c,"class",r)},d(_){_&&F(t),b=!1,L(v)}}}function pe(e){let t;return{c(){t=h("div"),p(t,"class","box white svelte-1wthcxs")},m(n,l){U(n,t,l)},p:q,d(n){n&&F(t)}}}function Je(e){let t,n,l,c,r,g,b,v,d,w,_,A,y,m,N,f,a,i,C,te,K,ne,V,Q,le,M=E(G[e[0].level-1]),k=[];for(let o=0;o<M.length;o+=1)k[o]=he(fe(e,M,o));let j=E(e[0].onePerDays),x=[];for(let o=0;o<j.length;o+=1)x[o]=_e(ue(e,j,o));let B=E(Array(e[0].sps).fill(0)),$=[];for(let o=0;o<B.length;o+=1)$[o]=pe(ie(e,B,o));return{c(){t=h("main"),n=h("h1"),n.textContent="Spell Slots",l=S(),c=h("section"),r=h("input"),g=S(),b=h("section"),v=h("div");for(let o=0;o<k.length;o+=1)k[o].c();d=S(),w=h("section"),_=h("div");for(let o=0;o<x.length;o+=1)x[o].c();A=S(),y=h("button"),y.textContent="Add a once-per-day",m=S(),N=h("section"),f=h("div"),a=h("h2"),a.textContent="SP",i=S(),C=h("button"),C.textContent="-",te=S(),K=h("div");for(let o=0;o<$.length;o+=1)$[o].c();ne=S(),V=h("button"),V.textContent="+",p(r,"class","box field m0a svelte-1wthcxs"),p(r,"type","number"),p(r,"min","1"),p(r,"max",G.length),p(c,"class","flex svelte-1wthcxs"),p(b,"class","svelte-1wthcxs"),p(y,"class","m0a svelte-1wthcxs"),p(w,"class","svelte-1wthcxs"),p(a,"class","sp-offset svelte-1wthcxs"),p(K,"class","flex wrap svelte-1wthcxs"),p(f,"class","flex svelte-1wthcxs"),p(N,"class","svelte-1wthcxs")},m(o,P){U(o,t,P),u(t,n),u(t,l),u(t,c),u(c,r),u(t,g),u(t,b),u(b,v);for(let s=0;s<k.length;s+=1)k[s]&&k[s].m(v,null);u(t,d),u(t,w),u(w,_);for(let s=0;s<x.length;s+=1)x[s]&&x[s].m(_,null);u(w,A),u(w,y),u(t,m),u(t,N),u(N,f),u(f,a),u(f,i),u(f,C),u(f,te),u(f,K);for(let s=0;s<$.length;s+=1)$[s]&&$[s].m(K,null);u(f,ne),u(f,V),Q||(le=[O(r,"input",e[4]),O(y,"click",e[10]),O(C,"click",e[11]),O(V,"click",e[12])],Q=!0)},p(o,[P]){if(P&3){M=E(G[o[0].level-1]);let s;for(s=0;s<M.length;s+=1){const D=fe(o,M,s);k[s]?k[s].p(D,P):(k[s]=he(D),k[s].c(),k[s].m(v,null))}for(;s<k.length;s+=1)k[s].d(1);k.length=M.length}if(P&9){j=E(o[0].onePerDays);let s;for(s=0;s<j.length;s+=1){const D=ue(o,j,s);x[s]?x[s].p(D,P):(x[s]=_e(D),x[s].c(),x[s].m(_,null))}for(;s<x.length;s+=1)x[s].d(1);x.length=j.length}if(P&1){B=E(Array(o[0].sps).fill(0));let s;for(s=0;s<B.length;s+=1){const D=ie(o,B,s);$[s]?$[s].p(D,P):($[s]=pe(),$[s].c(),$[s].m(K,null))}for(;s<$.length;s+=1)$[s].d(1);$.length=B.length}},i:q,o:q,d(o){o&&F(t),z(k,o),z(x,o),z($,o),Q=!1,L(le)}}}function ge(e,t,n,l){return n>e-1?"box green":n<e+l[t]?"box white":"box"}function Te(e,t,n){let l;const c=localStorage.getItem("characterData");c==null?l={level:1,deltas:[0],onePerDays:[],sps:0}:l=JSON.parse(c);function r(a,i,C=!1){console.log("incrementing"),C?l.deltas[a]>=-i&&n(0,l.deltas[a]--,l):(n(0,l.deltas[a]+=1,l),console.log("adding")),b()}function g(a=!1){n(0,l.sps+=a?-1:1,l),n(0,l.sps=Math.max(l.sps,0),l),console.log(l.sps),b()}function b(){localStorage.setItem("characterData",JSON.stringify(l))}const v=a=>{const i=a.target.value;console.log(l.level),n(0,l.deltas=Array(G[i?i-1:1].length).fill(0),l),n(0,l.level=i||1,l)},d=(a,i)=>r(a,i,!0),w=(a,i)=>r(a,i);function _(a,i){a[i].name=this.value,n(0,l)}return[l,r,g,b,v,d,w,_,()=>{n(0,l.onePerDays=l.onePerDays.filter((a,i)=>a.name!=""),l),b()},(a,i,C)=>{n(0,i[C].state=!a.state,l),b()},()=>{l.onePerDays.push({name:"Spell",state:!0}),n(0,l),b()},()=>g(!0),()=>g()]}class qe extends Be{constructor(t){super(),je(this,t,Te,Je,ke,{})}}new qe({target:document.getElementById("app")});
